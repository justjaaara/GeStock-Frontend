<div class="forgot-password-card">
    <div class="card-header">
        <h2>¿Olvidaste tu contraseña?</h2>
        <p class="subtitle">
            Ingresa tu email y te enviaremos un enlace para restablecer tu contraseña
        </p>
    </div>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        @if (successMessage()) {
        <div class="alert alert-success">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
            <span>{{ successMessage() }}</span>
        </div>
        }

        @if (errorMessage()) {
        <div class="alert alert-error">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            <span>{{ errorMessage() }}</span>
        </div>
        }

        <div class="form-group">
            <label for="email">Email</label>
            <app-input-field id="email" type="email" placeholder="tu-email@ejemplo.com" formControlName="email" />
            @if (email?.invalid && email?.touched) {
            <span class="error-text">
                @if (email?.errors?.['required']) {
                El email es requerido
                } @else if (email?.errors?.['email']) {
                Ingresa un email válido
                }
            </span>
            }
        </div>

        <button type="submit" class="btn-primary">
            @if (isLoading()) {
            <span class="spinner"></span>
            <span>Enviando...</span>
            } @else {
            <span>Enviar enlace de recuperación</span>
            }
        </button>

        <div class="back-to-login">
            <a routerLink="/login" class="link">← Volver al inicio de sesión</a>
        </div>
    </form>
</div>